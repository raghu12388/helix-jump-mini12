<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Stack Ball SAFE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{
  margin:0;
  padding:0;
  background:#111;
  width:100%;
  height:100%;
  overflow:hidden;
}
#game{
  background:#111;
  display:block;
}
#msg{
  position:fixed;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  color:white;
  font-family:Arial;
}
</style>
</head>
<body>

<div id="msg">TAP SCREEN</div>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

// FIXED VALUES (NO BUG)
const CX = () => canvas.width/2;
let ballY = 150;
let speed = 0;
let dropping = false;

const rings = [];
for(let i=0;i<6;i++){
  rings.push(250 + i*120);
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // pole
  ctx.fillStyle="#00eaff";
  ctx.fillRect(CX()-8,0,16,canvas.height);

  // rings
  ctx.strokeStyle="#00ff88";
  ctx.lineWidth=18;
  rings.forEach(y=>{
    ctx.beginPath();
    ctx.arc(CX(),y,80,0.6,5.7);
    ctx.stroke();
  });

  // ball (ALWAYS VISIBLE)
  ctx.beginPath();
  ctx.arc(CX(),ballY,12,0,Math.PI*2);
  ctx.fillStyle="red";
  ctx.fill();

  if(dropping){
    ballY+=3;
  }

  requestAnimationFrame(draw);
}
draw();

document.body.addEventListener("click",()=>{
  dropping = true;
});
</script>

</body>
</html>
